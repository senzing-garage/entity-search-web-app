## Environment Variables

### CORS related

- `SENZING_WEB_SERVER_CORS_ALLOWED_ORIGIN`

### Admin Area Security

- `SENZING_WEB_SERVER_ADMIN_AUTH_MODE` - options are `JWT`,`SSO`, or `NONE`. defaults to `JWT`
- `SENZING_WEB_SERVER_ADMIN_SECRET` - secret used ot generate JWT token. defaults to autogenerated.
- `SENZING_WEB_SERVER_ADMIN_SEED` - seed value used to generate JWT token. defaults to autogenerated.

- `SENZING_WEB_SERVER_ADMIN_AUTH_STATUS` - defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/admin/auth/jwt/status"`
- `SENZING_WEB_SERVER_ADMIN_AUTH_REDIRECT` - defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/admin/login"`

- `SENZING_WEB_SERVER_OPERATOR_AUTH_MODE`
- `SENZING_WEB_SERVER_OPERATOR_AUTH_STATUS`
- `SENZING_WEB_SERVER_OPERATOR_AUTH_REDIRECT`

### Web Server Related

- `SENZING_WEB_SERVER_PORT` - 
- `SENZING_WEB_SERVER_HOSTNAME` - 
- `SENZING_WEB_SERVER_PROTOCOL` - 
- `SENZING_WEB_SERVER_PORT` - 
- `SENZING_WEB_SERVER_HOSTNAME` - 
- `SENZING_WEB_SERVER_URL` - 
- `SENZING_WEB_SERVER_API_PATH` - 
- `SENZING_WEB_SERVER_AUTH_PATH` - 
- `SENZING_WEB_SERVER_ADMIN_AUTH_MODE` - 
- `SENZING_API_SERVER_URL` - 
- `SENZING_WEB_SERVER_VIRTUAL_PATH` - 
- `SENZING_WEB_SERVER_STREAM_CLIENT_URL` - 
- `SENZING_WEB_SERVER_SSL_CERT_PATH` - 
- `SENZING_WEB_SERVER_SSL_KEY_PATH` - 
- `SENZING_WEB_SERVER_BASIC_AUTH_JSON` - 

### Proxy/Reverse-Proxy Options

- `SENZING_WEB_SERVER_PROXY_LOGLEVEL` - 
- `SENZING_AUTH_SERVER_HOSTNAME` - 
- `SENZING_AUTH_SERVER_PORT` - 
- `SENZING_WEB_SERVER_AUTH_PATH` - 
- `SENZING_WEB_SERVER_ADMIN_AUTH_PATH` - 
- `SENZING_API_SERVER_URL` - 
- `SENZING_WEB_SERVER_URL` - 
- `SENZING_WEB_SERVER_INTERNAL_URL` - 
- `SENZING_AUTH_SERVER_JWTPATH_REWRITE` - 
- `SENZING_AUTH_SERVER_SSOPATH_REWRITE` - 
- `SENZING_AUTH_SERVER_ADMIN_JWTPATH_REWRITE` - 
- `SENZING_AUTH_SERVER_ADMIN_SSOPATH_REWRITE` - 
- `SENZING_AUTH_SERVER_WRITE_CONFIG_TO_FILE` - 


#### SQS Streaming Support

- `SENZING_STREAM_SERVER_PORT`

### CSP related

- `SENZING_WEB_SERVER_CSP_DEFAULT_SRC` - default src placed in the `default-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_CONNECT_SRC` - string placed in the `connect-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_SCRIPT_SRC` - string placed in to the `script-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_IMG_SRC` - string placed in to the `img-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_STYLE_SRC` - string placed in to the `style-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_FONT_SRC` - string placed in to the `font-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.


- `SENZING_WEB_SERVER_VIRTUAL_PATH`



## Command Line Switches

### CORS related

- `corsAllowedOrigin` - d
- `corsSuccessResponseCode` - defaults to 200
- `corsFailureResponseCode` - defaults to 401

- `testWebServerStartup` - d
- `streamServerPort` - d
- `streamClientUrl` - d

### Admin Related
- `adminAuthMode`
- `adminAuthStatusUrl`
- `adminAuthRedirectOnFailure`
- `adminAuthRedirectUrl`
- `operatorAuthMode`
- `operatorAuthStatusUrl`
- `operatorAuthRedirectUrl`

- `authServerPortNumber`
- `authServerHostName`
- `adminAuthSecret`
- `adminAuthToken`
- `operatorAuthSecret`
- `operatorAuthToken`

### Web Server Related

- `protocol`
- `webServerPortNumber` - 
- `webServerHostName` - 
- `webServerUrl` - 
- `webServerApiPath` - 
- `webServerAuthPath` - 
- `webServerAuthMode` - 
- `apiServerUrl` - 
- `virtualPath` - 
- `streamClientUrl` - 
- `sslCertPath` - 
- `sslKeyPath` - 

### Proxy/Reverse-Proxy Related
- `proxyLogLevel` - 
- `adminAuthPath` - 
- `apiServerUrl` - 
- `webServerUrl` - 
- `webServerInternalUrl` - 
- `proxyJWTPathRewrite` - 
- `proxySSOPathRewrite` - 
- `proxyAdminJWTPathRewrite` - 
- `proxyAdminSSOPathRewrite` - 
- `writeProxyConfigToFile` - 



### CSP related

Content Security Policy (CSP) is an added layer of security that helps to detect and mitigate certain types of attacks, including Cross-Site Scripting (XSS) and data injection attacks. Configuring Content Security Policy involves adding the Content-Security-Policy HTTP header to a web page and giving it values to control what resources the user agent is allowed to load for that page. see https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP

- `webServerCspDefaultSrc` - default src placed in the `default-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `webServerCspConnectSrc` - string placed in the `connect-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `webServerCspScriptSrc` - string placed in to the `script-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `webServerCspImgSrc` - string placed in to the `img-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `webServerCspStyleSrc` - string placed in to the `style-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `webServerCspFontSrc` - string placed in to the `font-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.


## All Variables

- `SENZING_API_SERVER_URL` - The address and port of the Senzing API Server or Senzing POC Server resolveable from the Web App's runtime environment. If running in a container formation with a shared docker network it is recommended to use the API Server Container name ie: `http://senzing-poc-server:8250`. This is one of the most commonly mis-configured variables, the address must be resolveable from the webapp container. defaults to `http://localhost:8250`.
- `SENZING_AUTH_SERVER_ADMIN_JWTPATH_REWRITE` - Any request starting with "/admin/auth/jwt/*" will be re-written using this regex before being forwarded to "$SENZING_WEB_SERVER_ADMIN_AUTH_PATH". defaults to "/jwt/admin"
- `SENZING_AUTH_SERVER_ADMIN_SSOPATH_REWRITE` - Any request starting with "/admin/auth/sso/*" will be re-written using this regex before being forwarded to "$SENZING_WEB_SERVER_ADMIN_AUTH_PATH". defaults to "/sso/admin"
- `SENZING_AUTH_SERVER_HOSTNAME` - The hostname of the server to check for admin authentication(if configured). defaults to "localhost"
- `SENZING_AUTH_SERVER_JWTPATH_REWRITE` - paths starting with "/auth/jwt/*" are rewritten as the value of this variable before being passed on to `$SENZING_WEB_SERVER_ADMIN_AUTH_PATH/jwt`. you almost always do not want to override this but you can if you like suffering.
- `SENZING_AUTH_SERVER_PORT` - The port of the server to check for admin authentication(if configured). defaults to "8080"
- `SENZING_AUTH_SERVER_SSOPATH_REWRITE` - paths starting with "/auth/sso/*" are rewritten as the value of this variable before being passed on to `$SENZING_WEB_SERVER_ADMIN_AUTH_PATH/sso`.
- `SENZING_AUTH_SERVER_WRITE_CONFIG_TO_FILE` - Write runtime configuration in JSON format to persistent locations. Proxy configuration written to `/proxy.conf.json`. This is used for debugging. *CAUTION "WILL BREAK IMMUTABILITY"*
- `SENZING_WEB_SERVER_API_PATH` - The base path that *CLIENT* api requests are made to. In most cases changing this is unecessary but is allowed to be overridden for flexibility. This points to the built-in reverse proxy address by default, and the proxy provides the tunnel to the api server. defaults to `/api`
- `SENZING_WEB_SERVER_ADMIN_AUTH_MODE` - options are `JWT`,`SSO`, or `NONE`. Setting to `NONE` will disable authentication checks for `/admin` paths. defaults to `JWT`
- `SENZING_WEB_SERVER_ADMIN_AUTH_PATH` - The concatenation of `SENZING_AUTH_SERVER_HOSTNAME` and `SENZING_AUTH_SERVER_PORT` variables. The ability to override for special cases is provided and should be set to the resolveable base url that auth requests can be forwarded to, most commonly the name of the webapp container and port `8251` ie `http://senzing-webapp:8251`.
- `SENZING_WEB_SERVER_ADMIN_AUTH_STATUS` - defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/admin/auth/jwt/status"`
- `SENZING_WEB_SERVER_ADMIN_AUTH_REDIRECT` - where to redirect unauthenticated admin users. defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/admin/login"`
- `SENZING_WEB_SERVER_ADMIN_SECRET` - secret used ot generate JWT token. defaults to autogenerated.
- `SENZING_WEB_SERVER_ADMIN_SEED` - seed value used to generate JWT token. defaults to autogenerated.
- `SENZING_WEB_SERVER_AUTH_PATH` - the resolveable base path to forward admin area authentication requests to(if enabled). defaults to `http://senzing-webapp:8080`
- `SENZING_WEB_SERVER_BASIC_AUTH_JSON` - configures the webapp server to support *HTTP CHALLENGE RESPONSE BASIC AUTH*. *DEPRECATED*
- `SENZING_WEB_SERVER_CORS_ALLOWED_ORIGIN` - if set specifies the `Access-Control-Allow-Origin` header to provide non-local/non-container asynchonous javascript requests to resources located on the running webapp server. (useful for developing locally but connecting to a running containers api reverse proxy)
- `SENZING_WEB_SERVER_CSP_DEFAULT_SRC` - default src placed in the `default-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_CONNECT_SRC` - string placed in the `connect-src` namespace in the `Content-Security-Policy` tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_FONT_SRC` - string placed in to the `font-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_IMG_SRC` - string placed in to the `img-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_SCRIPT_SRC` - string placed in to the `script-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_CSP_STYLE_SRC` - string placed in to the `style-src` namespace in the `Content-Security-Policy` meta tag in the main SPA page.
- `SENZING_WEB_SERVER_HOSTNAME` - the internally resolveable hostname of the webapp. default is to try to automagically figure this out from the `$SENZING_WEB_SERVER_URL` value but sometimes there can be a need to explicitly define this value.
- `SENZING_WEB_SERVER_INTERNAL_URL` - is used for setting the *config* base path when the _internally resolveable url_ is different from what the _client url_ resolves to ie: when running the webapp behind a gateway service the public address ie "https://www.my.public.url/webapp" may not be available from inside the formation context ie "http://this-is-a-private-address:8569"
- `SENZING_WEB_SERVER_OPERATOR_AUTH_MODE` - authentication mode for non-admin users. options are `JWT`,`SSO`, or `NONE`. *CURRENTLY NOT FULLY IMPLEMENTED*
- `SENZING_WEB_SERVER_OPERATOR_AUTH_REDIRECT` - where to redirect unauthenticated non-admin users. defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/login"`. *CURRENTLY NOT FULLY IMPLEMENTED*
- `SENZING_WEB_SERVER_OPERATOR_AUTH_STATUS` - defaults to `SENZING_WEB_SERVER_VIRTUAL_PATH +"/auth/jwt/status"`. *CURRENTLY NOT FULLY IMPLEMENTED*
- `SENZING_WEB_SERVER_PORT` - The port that the webapp is running on.
- `SENZING_WEB_SERVER_PROTOCOL` - The protocol that the webapp is available on. 'http' or 'https'
- `SENZING_WEB_SERVER_PROXY_LOGLEVEL` - The verbosity level that the reverse proxy uses for console/log output. options are `debug` | `warn` | `error`
- `SENZING_WEB_SERVER_SSL_CERT_PATH` - The path to the SSL certificate file. defaults to `/run/secrets/server.cert`. (See SSL documentation in README.md)
- `SENZING_WEB_SERVER_SSL_KEY_PATH` - The path to the SSL Key file. defaults to `/run/secrets/server.key`. (See SSL documentation in README.md)
- `SENZING_WEB_SERVER_STREAM_CLIENT_URL` - this is the *CLIENT URL* to open up Web Socket requests to and not the internally resolvable value. ie: `ws://my.fully.qualified.domain:8255/app/ws`. This will be automagically set from a number of other variables but sometimes it can be necessary to explicitly define this variable if not being set correctly.
- `SENZING_WEB_SERVER_URL` - the fully qualified *PUBLIC* address of the webapp address ie: ` http://my.webapp.domain:8251`.
- `SENZING_WEB_SERVER_VIRTUAL_PATH` - If the webapp server is beng load-balanced using virtual directories set this value to the base url path. ie: your webapp server is publically available at `https://my.domain.com/er/webapp` set this value to `/er/webapp`.
- `SENZING_STREAM_SERVER_PORT` - The port that the server is listening for web socket connections on to support SQS loading. defaults to `8255`

## All Command Line Switches

- `adminAuthMode`
- `adminAuthPath` 
- `adminAuthRedirectOnFailure`
- `adminAuthRedirectUrl`
- `adminAuthSecret`
- `adminAuthStatusUrl`
- `adminAuthToken`
- `apiServerUrl` - The address and port of the Senzing API Server or Senzing POC Server resolveable from the Web App's runtime environment. If running in a container formation with a shared docker network it is recommended to use the API Server Container name ie: `http://senzing-poc-server:8250`. This is one of the most commonly mis-configured variables, the address must be resolveable from the webapp container. defaults to `http://localhost:8250`.
- `authServerHostName`
- `authServerPortNumber`
- `corsAllowedOrigin` - d
- `corsFailureResponseCode` - defaults to 401
- `corsSuccessResponseCode` - defaults to 200
- `operatorAuthMode`
- `operatorAuthRedirectUrl`
- `operatorAuthSecret`
- `operatorAuthStatusUrl`
- `operatorAuthToken`
- `protocol`
- `proxyAdminJWTPathRewrite` - 
- `proxyAdminSSOPathRewrite` - 
- `proxyJWTPathRewrite` - 
- `proxyLogLevel` - 
- `proxySSOPathRewrite` - 
- `sslCertPath` - 
- `sslKeyPath` - 
- `streamClientUrl` - d
- `streamServerPort` - d
- `testWebServerStartup` - d
- `webServerApiPath` - 
- `webServerAuthPath` - 
- `webServerAuthMode` - 
- `webServerHostName` - 
- `webServerInternalUrl` - 
- `webServerPortNumber` - 
- `webServerUrl` - 
- `writeProxyConfigToFile` - 
- `virtualPath` - 
